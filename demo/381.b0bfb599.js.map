{"version":3,"sources":["webpack://train/./src/component/header.js","webpack://train/./src/component/popular.js","webpack://train/./src/page/home.js","webpack://train/./src/utils/request.js","webpack://train/./src/component/popular.less","webpack://train/./src/component/popular.less?a681"],"names":["Header","props","url","i","sessionStorage","setItem","setState","active","checkItem","state","list","name","this","pageUrl","findIndex","el","style","textAlign","padding","map","marginRight","display","cursor","color","onClick","key","Component","Popular","loading","getList","page","request","then","res","items","hasMore","className","spinning","tip","wrapperClassName","changeList","width","flexWrap","paddingLeft","initialLoad","pageStart","loadMore","useWindow","length","item","stargazers_count","forks_count","open_issues_count","avatar_url","owner","flex","backgroundColor","marginBottom","paddingTop","paddingBottom","fontSize","backgroundImage","backgroundSize","height","margin","title","maxWith","overflow","textOverflow","whiteSpace","text","verticalAlign","fontWeight","maxWidth","Home","catchCB","err","msg","message","response","status","data","head","result","clear","body","includes","errPrompt","axios","undefined","config","retry","__retryCount","Promise","reject","resolve","setTimeout","retryDelay","code","checkStatus","method","headers","FormData","JSON","stringify","qs","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","update","hot","invalidate","isNamedExport","oldLocals","accept","a","b","p","isEqualLocals","dispose"],"mappings":"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","file":"381.b0bfb599.js","sourcesContent":["import React, { Component } from \"react\";\r\nexport default class Header extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      active: 0,\r\n      list: [\r\n        {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1&sort=stars&order=desc&type=Repositories',\r\n          name: 'All'\r\n        }, {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1+language:javascript&sort=stars&order=desc&type=Repositories',\r\n          name: 'JavaScript'\r\n        }, {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1+language:ruby&sort=stars&order=desc&type=Repositories',\r\n          name: 'Ruby'\r\n        }, {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1+language:java&sort=stars&order=desc&type=Repositories',\r\n          name: 'Java'\r\n        }, {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1+language:css&sort=stars&order=desc&type=Repositories',\r\n          name: 'CSS'\r\n        }, {\r\n          url: 'https://api.github.com/search/repositories?q=stars:3E1+language:python&sort=stars&order=desc&type=Repositories',\r\n          name: 'Python'\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  componentDidMount (){\r\n    const  { list } = this.state\r\n    let url = sessionStorage.pageUrl || ''\r\n    if(url){\r\n        this.setState({\r\n          active: list.findIndex(el=>el.url === url)\r\n        })\r\n    }\r\n    this.props.checkItem(url ? url : list[0].url)\r\n  }\r\n  checkItem = (url, i)=>{\r\n    sessionStorage.setItem('pageUrl', url)\r\n    this.setState({\r\n      active: i\r\n    }, this.props.checkItem(url))\r\n  }\r\n  render() {\r\n    const { list, active } = this.state\r\n    return (\r\n      <div>\r\n        <div style={{ textAlign: 'center', padding: '30px 0' }}>\r\n          {\r\n            list.map((el, i) => (\r\n              <span style={{ marginRight: '30px', display: 'inline-block', cursor: 'pointer', color: active === i ? 'red' : '' }} onClick={() => this.checkItem(el.url, i)} key={i}>{el.name}</span>))\r\n          }\r\n        </div>\r\n        <span></span>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport Header from './header'\r\nimport request from '@/utils/request'\r\nimport { Spin } from 'antd'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport './popular.less'\r\nexport default class Popular extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      hasMore: true, // 更多\r\n      list: [],\r\n      url: ''\r\n    }\r\n  }\r\n  changeList=(url)=>{\r\n    this.setState({ url, loading: true, list: [] }, ()=>{\r\n      this.getList(1)\r\n    })\r\n  }\r\n  getList = (page) => {\r\n    let url = `${this.state.url}&per_page=10&page=${page}`\r\n    const { list }= this.state\r\n    request(url).then(res => {\r\n      this.setState({\r\n        loading: false,\r\n        list: [...list, ...res.items],\r\n        hasMore: true\r\n      })\r\n    })\r\n  }\r\n  loadMore=(page)=>{\r\n    this.setState({ loading: true, hasMore: false }, ()=> this.getList(page))\r\n  }\r\n  render() {\r\n    const { list = [], hasMore, loading } = this.state\r\n    return (\r\n      <div className='popular-page'>\r\n        <Spin spinning={loading} tip=\"Loading...\" wrapperClassName={'popular-spin'}>\r\n          <Header checkItem={this.changeList} />\r\n          <div style={{ display: \"flex\", width: \"100%\", flexWrap: \"wrap\", paddingLeft: '15px' }}>\r\n            <InfiniteScroll\r\n              initialLoad={false} // 不让它进入直接加载\r\n              pageStart={1} // 设置初始化请求的页数\r\n              loadMore={this.loadMore}  // 监听的ajax请求\r\n              hasMore={hasMore} // 是否继续监听滚动事件 true 监听 | false 不再监听\r\n              useWindow={true} // 不监听 window 滚动条\r\n            >\r\n              {\r\n                list.length ? list.map((item, i) => {\r\n                  const { name, stargazers_count, forks_count, open_issues_count, owner: {\r\n                    avatar_url\r\n                  } } = item\r\n                  return (\r\n                    <div key={i} style={{\r\n                      flex: '0 0 calc((100% / 4) - 15px)',\r\n                      marginRight: i + 1 / 4 ? '15px' : '0',\r\n                      width: 'calc(100% / 4 - 15px)',\r\n                      backgroundColor: 'rgb(235,235,235)',\r\n                      marginBottom: '20px',\r\n                      paddingTop: '30px',\r\n                      paddingBottom: '20px'\r\n                    }}>\r\n                      <h3 style={{ color: '#333', fontSize: '25px' }}>#{++i}</h3>\r\n                      <div style={{\r\n                        backgroundImage: `url(${avatar_url})`,\r\n                        backgroundSize: '100% 100%',\r\n                        width: '100px',\r\n                        height: '100px',\r\n                        margin: '0 auto'\r\n                      }}></div>\r\n                      <div title={item.name} style={{ color: 'rgb(200,112,97)', fontSize: '18px', margin: '30px 0', maxWith: '280px', overflow: 'hidden', display: 'block', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\r\n                        {item.name}\r\n                      </div>\r\n                      {\r\n                        ['1', '2', '3', '4'].map((el, i) => {\r\n                          let iconList = ['user-o', 'star', 'link', 'warning']\r\n                          let textList = ['', 'stars', 'forks', 'open issues']\r\n                          let colorList = ['orange', 'yellow', 'blue', 'rgb(200,112,97)']\r\n                          let text = [name, stargazers_count, forks_count, open_issues_count][i]\r\n                          return (\r\n                            <div key={i}>\r\n                              <span style={{\r\n                                backgroundSize: '100% 100%',\r\n                                marginRight: '5px',\r\n                                verticalAlign: 'top',\r\n                                display: 'inline-block', width: '20px', height: '20px'\r\n                              }}>\r\n                                <i className={`fa fa-${iconList[i]}`} style={{ color: colorList[i] }}></i>\r\n                              </span>\r\n                              <span style={{ fontWeight: '600', maxWidth: '220px', overflow: 'hidden', display: 'inline-block', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{text} <span>{textList[i]}</span></span>\r\n                            </div>\r\n                          )\r\n                        })\r\n                      }\r\n                    </div>\r\n                  )\r\n                }) : <div></div>\r\n              }\r\n            </InfiniteScroll>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport Popular from '@/component/popular'\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='main-content'>\r\n        <div className='top-menu'>\r\n          <Popular />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import axios from 'axios'\r\nimport qs from 'qs'\r\nimport { message } from 'antd'\r\n// import { LOGINOUT_CODES, BASE_URL } from '@/assets/js/enume'\r\n\r\n// 延长超时时间60秒\r\naxios.defaults.timeout = 10000\r\n//重连次数\r\naxios.defaults.retry = 4\r\n//接口间隔时间(ms)\r\naxios.defaults.retryDelay = 1000\r\n//超时重连接口\r\naxios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) {\r\n  if (err && err.message.includes('timeout')) {\r\n    let config = err.config\r\n    // If config does not exist or the retry option is not set, reject\r\n    if (!config || !config.retry) return Promise.reject(err)\r\n\r\n    // Set the variable for keeping track of the retry count\r\n    config.__retryCount = config.__retryCount || 0\r\n\r\n    // Check if we've maxed out the total number of retries\r\n    if (config.__retryCount >= config.retry) {\r\n      // Reject with the error\r\n      return Promise.reject(err)\r\n    }\r\n\r\n    // Increase the retry count\r\n    config.__retryCount = 1\r\n\r\n    // Create new promise to handle exponential backoff\r\n    const backoff = new Promise(function (resolve) {\r\n      setTimeout(function () {\r\n        resolve()\r\n      }, config.retryDelay || 1)\r\n    })\r\n\r\n    // Return the promise in which recalls axios to retry the request\r\n    return backoff.then(function () {\r\n      return axios(config)\r\n    })\r\n  } else {\r\n    let res = err.response\r\n    checkStatus(res)\r\n  }\r\n})\r\n\r\nfunction checkStatus(res) {\r\n  // 判断后台有响应但没有返回超时的情况表现为没有code\r\n  //   const loginoutCodes = Object.keys(LOGINOUT_CODES).map(key => LOGINOUT_CODES[key])\r\n  if (res.status >= 200 && res.status < 300) {\r\n    if ((res.data.head || {}).code === '200') {\r\n      return res\r\n    }\r\n    // else if (loginoutCodes.indexOf((res.data.head || {}).code) !== -1) {\r\n    //   sessionStorage.clear()\r\n    //   window.location.href = '/#/login'  //登录有了开\r\n    // }\r\n    else {\r\n      return '请求超时，请稍后重试'\r\n    }\r\n  }\r\n  res.response = res\r\n  throw res\r\n}\r\n\r\nfunction catchCB(err) {\r\n  let msg = '异常错误'\r\n  if (err && err.message === 'Failed to fetch') {\r\n    msg = '网络异常，请检查网络连接'\r\n  } else if (err && err.response && err.response.status === 404) {\r\n    msg = '找不到该请求'\r\n  } else if (err && err.response && err.response.status === 401) {\r\n    msg = err.response.data.head.result\r\n    sessionStorage.clear()\r\n  }\r\n  else if (err && err.response) {\r\n    if (typeof err.response.data === 'string') {\r\n      msg = '请求失败'\r\n    }\r\n    else if (typeof err.response.data.body === 'string') {\r\n      if (!err.response.data.body) {\r\n        msg = `${err.response.data.head.result}`\r\n      } else {\r\n        msg = `${err.response.data.body}`\r\n      }\r\n    } else if (err.response.data.body && typeof err.response.data.body === 'object') {\r\n      msg = `${err.response.data.body.data || err.response.data.body.msg || err.response.data.head.result}`\r\n    } else if (err.response.data.head) {\r\n      msg = `${err.response.data.head.result}`\r\n    } else {\r\n      msg = '请求失败'\r\n    }\r\n  } else if (err && err.message.includes('timeout')) {\r\n    msg = '请求超时，请稍后重试'\r\n  }\r\n  return msg\r\n}\r\n\r\nfunction errPrompt(msg) {\r\n  message.destroy()\r\n  message.error(msg)\r\n}\r\n\r\n/**\r\n * Requests a URL, returning a promise.\r\n *\r\n * @param  {string} method    The type we want to request\r\n * @param  {string} url       The URL we want to request\r\n * @param  {object} data      The options we want to pass to \"fetch\"\r\n * @return {object}           An object containing either \"data\" or \"err\"\r\n */\r\nconst fetch = (url, data = {}, method) => {\r\n  url = `${url}`\r\n\r\n  //   const headers = createHeaders(data)\r\n  // console.log(headers)\r\n  // 当请求为非上传类型时，设置Content-Type\r\n  const headers = {}\r\n  if (!(data instanceof FormData)) {\r\n    headers['Content-Type'] = 'application/json; charset=UTF-8'\r\n  }\r\n\r\n  // 处理参数\r\n  if (method === 'post') {\r\n    if (!(data instanceof FormData)) {\r\n      // post请求设置参数\r\n      data = JSON.stringify(data)\r\n    }\r\n    // 发起请求\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: method,\r\n        url: url,\r\n        data: data,\r\n        headers: headers\r\n      })\r\n        // .then(checkStatus)\r\n        .then(res => {\r\n          resolve(res.data)\r\n        })\r\n        .catch(err => {\r\n          const msg = catchCB(err)\r\n          errPrompt(msg)\r\n          reject(err)\r\n        })\r\n    })\r\n  } else {\r\n    // get请求设置参数\r\n    url = data ? `${url}?${qs.stringify(data)}` : url\r\n    // 发起请求\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(url, {\r\n        headers: headers\r\n      })\r\n        // .then(checkStatus)\r\n        .then(res => {\r\n          res.body = res.data\r\n          resolve(res.data)\r\n        })\r\n        .catch(err => {\r\n          const msg = catchCB(err)\r\n          errPrompt(msg)\r\n          reject(err)\r\n        })\r\n    })\r\n  }\r\n}\r\nexport default fetch","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".popular-page {\\n  text-align: center;\\n  position: relative;\\n}\\n.popular-page .popular-spin .ant-spin-show-text {\\n  position: absolute;\\n  transform: translateX(-50%);\\n  left: 50%;\\n  top: 50%;\\n}\\n.popular-page .ant-spin-container > div:nth-child(2) > div:nth-child(1) {\\n  display: flex;\\n  width: 100%;\\n  flex-wrap: wrap;\\n}\\n@media screen and (max-width: 768px) {\\n  .ant-spin-container > div:nth-child(2) > div:nth-child(1) > div {\\n    flex: 0 0 calc((100% / 2) - 15px) !important;\\n  }\\n}\\n@media (max-width: 1200px) and (min-width: 769px) {\\n  .ant-spin-container > div:nth-child(2) > div:nth-child(1) > div {\\n    flex: 0 0 calc((100% / 3) - 15px) !important;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/popular.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;EACA,kBAAA;AACJ;AAHA;EAIQ,kBAAA;EACA,2BAAA;EACA,SAAA;EACA,QAAA;AAER;AATA;EAYY,aAAA;EACA,WAAA;EACA,eAAA;AAAZ;AAKA;EACI;IAIY,4CAAA;EANd;AACF;AAWA;EACI;IAIY,4CAAA;EAZd;AACF\",\"sourcesContent\":[\".popular-page {\\n    text-align: center;\\n    position: relative;\\n    .popular-spin .ant-spin-show-text {\\n        position: absolute;\\n        transform: translateX(-50%);\\n        left: 50%;\\n        top: 50%;\\n    }\\n    .ant-spin-container{\\n        >div:nth-child(2){\\n          >div:nth-child(1){\\n            display: flex;\\n            width: 100%; \\n            flex-wrap: wrap;\\n          }\\n        }\\n    }\\n}\\n@media screen and (max-width: 768px) {\\n    .ant-spin-container{\\n        >div:nth-child(2){\\n          >div:nth-child(1){\\n            >div{\\n                flex: 0 0 calc((100% / 2) - 15px) !important;\\n            }\\n          }\\n        }\\n    }\\n}\\n@media (max-width: 1200px) and (min-width: 769px) {\\n    .ant-spin-container{\\n        >div:nth-child(2){\\n          >div:nth-child(1){\\n            >div{\\n                flex: 0 0 calc((100% / 3) - 15px) !important;\\n            }\\n          }\\n        }\\n    }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\";\n       export default content && content.locals ? content.locals : undefined;\n"],"sourceRoot":""}