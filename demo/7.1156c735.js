(self.webpackChunktrain=self.webpackChunktrain||[]).push([[7],{4007:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>x});var r=n(6610),a=n(5991),o=n(379),i=n(6070),s=n(7608),c=n(7294),A=(n(8414),n(5789)),l=(n(2262),n(5400)),u=(n(7272),n(1024)),d=n(3349),p=n(6156),f=(n(9852),n(7538)),m=n(1624);n(4581);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var g=f.Z.Item;const E=function(t){(0,o.Z)(i,t);var e=h(i);function i(t){var a;return(0,r.Z)(this,i),a=e.call(this,t),(0,p.Z)((0,d.Z)(a),"imgerror",(function(t){t.currentTarget.src=n(5106)})),(0,p.Z)((0,d.Z)(a),"pressEnter",(function(t,e){var n;a.setState((n={},(0,p.Z)(n,"user".concat(e),t),(0,p.Z)(n,"loading".concat(e),!0),n),(function(){a.getImg(t,e)}))})),(0,p.Z)((0,d.Z)(a),"getImg",(function(t,e){(0,m.Z)("https://api.github.com/users/".concat(t),"get").then((function(n){var r;a.setState((r={},(0,p.Z)(r,"url".concat(e),n.avatar_url),(0,p.Z)(r,"user".concat(e),t),(0,p.Z)(r,"loading".concat(e),!1),(0,p.Z)(r,"flag".concat(e),!0),r))})).catch((function(t){a.setState((0,p.Z)({},"loading".concat(e),!1))}))})),(0,p.Z)((0,d.Z)(a),"battle",(function(){var t=a.state,e=t.user0,n=t.user1;a.props.props.history.push({pathname:"/battle/result",search:"?player1=".concat(e,"&player2=").concat(n)})})),a.state={user0:"",user1:"",url0:"",url1:"",loading0:!1,loading1:!1,flag0:!1,flag1:!1},a}return(0,a.Z)(i,[{key:"render",value:function(){var t=this,e=this.state,r=e.user0,a=e.user1,o=e.url0,i=e.url1,s=e.flag0,d=e.flag1,p=e.loading0,m=e.loading1;return c.createElement("div",{className:"battle-content"},c.createElement("div",{className:"title-block"},"Instructions"),c.createElement("div",null,["Enter two Github","Battle","See the winner"].map((function(t,e){return c.createElement("div",{key:e},c.createElement("div",null,t),c.createElement("div",null,c.createElement("img",{src:n(4548)("./".concat(["user","fight","cup"][e],".png")),alt:""})))}))),c.createElement("div",{className:"title-block"},"Instructions"),c.createElement("section",{className:"row submit-box"},c.createElement(f.Z,null,c.createElement(g,{className:"clearfix"},c.createElement(A.Z,{span:12},s?c.createElement("div",{className:"img-info"},c.createElement("img",{src:o,alt:"",onError:this.imgerror}),c.createElement("span",null,r),c.createElement("span",{className:"img-close",onClick:function(){t.setState({flag0:!1})}},"X")):c.createElement(c.Fragment,null,c.createElement(g,{label:"Player One",name:"user0",rules:[{required:!0,message:"请输入"},{whitespace:!0,message:"不能为空字符！"}]},c.createElement(u.Z,{autoComplete:"off",placeholder:"请输入",className:"form-item-warp",onChange:function(e){t.setState({user0:e.target.value})},onPressEnter:function(e){return t.pressEnter(e.target.value,0)}})),c.createElement(l.default,{onClick:function(){return t.pressEnter(r,0)},disabled:!r,loading:p,type:"primary"},"submit"))),c.createElement(A.Z,{span:12},d?c.createElement("div",{className:"img-info"},c.createElement("img",{src:i,alt:"",onError:this.imgerror}),c.createElement("span",null,a),c.createElement("span",{className:"img-close",onClick:function(){t.setState({flag1:!1})}},"X")):c.createElement(c.Fragment,null,c.createElement(g,{label:"Player Two",name:"user1",rules:[{required:!0,message:"请输入"},{whitespace:!0,message:"不能为空字符！"}]},c.createElement(u.Z,{autoComplete:"off",placeholder:"请输入",className:"form-item-warp",onChange:function(e){t.setState({user1:e.target.value})},onPressEnter:function(e){return t.pressEnter(e.target.value,1)}})),c.createElement(l.default,{onClick:function(){return t.pressEnter(a,1)},disabled:!a,loading:m,type:"primary"},"submit")))),d&&s?c.createElement(l.default,{onClick:this.battle,className:"battle-btn",type:"primary"},"Battle"):null)))}}]),i}(c.Component);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var x=function(t){(0,o.Z)(n,t);var e=b(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).state={},a}return(0,a.Z)(n,[{key:"render",value:function(){return c.createElement("div",{className:"battle-page"},c.createElement(E,{props:this.props}))}}]),n}(c.Component)},1624:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});n(9373);var r=n(1187),a=n(484),o=n(9669),i=n.n(o);n(129);function s(t){var e="异常错误";return t&&"Failed to fetch"===t.message?e="网络异常，请检查网络连接":t&&t.response&&404===t.response.status?e=t.response.data.message:t&&t.response&&401===t.response.status?(e=t.response.data.head.result,sessionStorage.clear()):t&&t.response?e="string"==typeof t.response.data?"请求失败":"string"==typeof t.response.data.body?t.response.data.body?"".concat(t.response.data.body):"".concat(t.response.data.head.result):t.response.data.body&&"object"===(0,a.Z)(t.response.data.body)?"".concat(t.response.data.body.data||t.response.data.body.msg||t.response.data.head.result):t.response.data.head?"".concat(t.response.data.head.result):t.response.data.message:t&&t.message.includes("timeout")&&(e="请求超时，请稍后重试"),e}function c(t){r.default.destroy(),r.default.error(t)}i().defaults.timeout=1e4,i().defaults.retry=4,i().defaults.retryDelay=1e3,i().interceptors.response.use(void 0,(function(t){if(t&&t.message.includes("timeout")){var e=t.config;return e&&e.retry?(e.__retryCount=e.__retryCount||0,e.__retryCount>=e.retry?Promise.reject(t):(e.__retryCount=1,new Promise((function(t){setTimeout((function(){t()}),e.retryDelay||1)})).then((function(){return i()(e)})))):Promise.reject(t)}!function(t){if(t.status>=200&&t.status<300)return"200"===(t.data.head||{}).code?t:"请求超时，请稍后重试";throw t.response=t,t}(t.response)}));const A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t="".concat(t);var r={};return e instanceof FormData||(r["Content-Type"]="application/json; charset=UTF-8"),"post"===n?(FormData,new Promise((function(a,o){i()({method:n,url:t,data:e,headers:r}).then((function(t){a(t.data)})).catch((function(t){c(s(t)),o(t)}))}))):new Promise((function(e,n){i().get(t,{headers:r}).then((function(t){t.body=t.data,e(t.data)})).catch((function(t){c(s(t)),n(t)}))}))}},6580:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(4015),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([t.id,".battle-content .title-block {\n  font-size: 24px;\n  font-weight: 600;\n  text-align: center;\n  margin: 20px 0;\n}\n.battle-content > div:nth-child(2) {\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n}\n.battle-content > div:nth-child(2) > div > div {\n  margin: 8px 16px;\n}\n.battle-content > div:nth-child(2) > div > div:nth-child(2) {\n  background-color: #eee;\n  padding: 32px;\n}\n.battle-content > div:nth-child(2) > div img {\n  width: 120px;\n}\n.battle-content .submit-box {\n  justify-content: center;\n}\n.battle-content .submit-box > div {\n  margin-right: 30px ;\n}\n.battle-content .submit-box > div > div:nth-child(1) {\n  margin: 20px 0;\n}\n.battle-content .submit-box input {\n  width: 250px;\n  height: 34px;\n  line-height: 34px;\n  border-radius: 4px;\n}\n.battle-content .submit-box button {\n  padding: 5px;\n}\n.battle-content .submit-box .battle-btn {\n  margin-left: 125px;\n}\n.battle-content .submit-box .img-info {\n  width: 300px;\n  background-color: #e0dada;\n  margin-bottom: 10px;\n  padding: 5px;\n  margin-top: 10px;\n}\n.battle-content .submit-box .img-info img {\n  border-radius: 16px;\n  width: 64px;\n  height: 64px;\n  margin: 0 8px;\n}\n.battle-content .submit-box .img-info span {\n  font-size: 32px;\n  color: #1890ff;\n}\n.battle-content .submit-box .img-info .img-close {\n  width: 200px;\n  height: 10px;\n  position: absolute;\n  right: -300px;\n  top: -2px;\n  color: red;\n  font-size: 24px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.battle-content .row {\n  display: flex;\n  width: 100%;\n}\n@media screen and (max-width: 768px) {\n  .battle-content > div:nth-child(2) > div img {\n    width: 40px;\n  }\n  .battle-content > div:nth-child(2) > div > div:first-child {\n    height: 60px;\n  }\n}\n","",{version:3,sources:["webpack://./src/component/batter.less"],names:[],mappings:"AAAA;EAEM,eAAA;EACA,gBAAA;EACA,kBAAA;EACA,cAAA;AAAN;AAEI;EACE,eAAA;EACA,aAAA;EACA,uBAAA;AAAN;AAEQ;EACE,gBAAA;AAAV;AAEQ;EACE,sBAAA;EACA,aAAA;AAAV;AANM;EASI,YAAA;AAAV;AApBA;EAyBM,uBAAA;AAFN;AAGM;EACE,mBAAA;AADR;AAEQ;EACE,cAAA;AAAV;AA7BA;EAiCQ,YAAA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;AADR;AAnCA;EAuCQ,YAAA;AADR;AAtCA;EA0CQ,kBAAA;AADR;AAzCA;EA6CQ,YAAA;EACA,yBAAA;EACA,mBAAA;EACA,YAAA;EACA,gBAAA;AADR;AAhDA;EAmDU,mBAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;AAAV;AAtDA;EAyDW,eAAA;EACA,cAAA;AAAX;AA1DA;EA6DU,YAAA;EACA,YAAA;EACA,kBAAA;EACA,aAAA;EACA,SAAA;EACA,UAAA;EACA,eAAA;EACA,gBAAA;EACA,eAAA;AAAV;AArEA;EA0EQ,aAAA;EACA,WAAA;AAFR;AAKE;EACA;IACE,WAAA;EAHF;EAKA;IACE,YAAA;EAHF;AACF",sourcesContent:[".battle-content{\n    .title-block{\n      font-size: 24px;\n      font-weight: 600;\n      text-align: center;\n      margin: 20px 0;\n    }\n    & > div:nth-child(2){\n      font-size: 20px;\n      display: flex;\n      justify-content: center;\n      & > div{\n        &> div{\n          margin: 8px 16px;\n        }\n        &>div:nth-child(2){\n          background-color: #eee;\n          padding: 32px;\n        }\n        img{\n          width: 120px;\n        }\n      }\n    }\n    .submit-box{\n      justify-content: center;\n      &>div{\n        margin-right:30px ;\n        &>div:nth-child(1){\n          margin: 20px 0;\n        }\n      }\n      input{\n        width: 250px;\n        height: 34px;\n        line-height: 34px;\n        border-radius: 4px;\n      }\n      button{\n        padding: 5px;\n      }\n      .battle-btn{\n        margin-left: 125px;\n      }\n      .img-info{\n        width: 300px;\n        background-color: #e0dada;\n        margin-bottom: 10px;\n        padding: 5px;\n        margin-top: 10px;\n        img{\n          border-radius: 16px;\n          width: 64px;\n          height: 64px;\n          margin: 0 8px;\n        }\n        span{\n           font-size: 32px;\n           color: #1890ff;\n        }\n        .img-close{\n          width: 200px;\n          height: 10px;\n          position: absolute;\n          right: -300px;\n          top: -2px;\n          color: red;\n          font-size: 24px;\n          font-weight: 500;\n          cursor: pointer;\n        }\n      }\n    }\n    .row{\n        display: flex;\n        width: 100%;\n      }\n  }\n  @media screen and (max-width: 768px) {\n  .battle-content > div:nth-child(2) > div img {\n    width: 40px;\n  }\n  .battle-content > div:nth-child(2) > div > div:first-child{\n    height: 60px;\n  }\n}"],sourceRoot:""}]);const s=i},4581:(t,e,n)=>{"use strict";var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),c=n.n(s),A=n(3565),l=n.n(A),u=n(9216),d=n.n(u),p=n(4589),f=n.n(p),m=n(6580),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d();var g=a()(m.default,h);if(!m.default.locals||t.hot.invalidate){var E=!m.default.locals,b=E?m:m.default.locals;t.hot.accept(6580,(e=>{m=n(6580),function(t,e,n){if(!t&&e||t&&!e)return!1;var r;for(r in t)if((!n||"default"!==r)&&t[r]!==e[r])return!1;for(r in e)if(!(n&&"default"===r||t[r]))return!1;return!0}(b,E?m:m.default.locals,E)?(b=E?m:m.default.locals,g(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){g()}));m.default&&m.default.locals&&m.default.locals},1217:(t,e,n)=>{"use strict";t.exports=n.p+"13b7e6ec8fc647af5520.png"},9435:(t,e,n)=>{"use strict";t.exports=n.p+"abc226da0a3447fb2122.png"},5106:(t,e,n)=>{"use strict";t.exports=n.p+"700078eda49962fb17a9.png"},4548:(t,e,n)=>{var r={"./cup.png":1217,"./fight.png":9435,"./user.png":5106};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=4548}}]);
//# sourceMappingURL=7.1156c735.js.map