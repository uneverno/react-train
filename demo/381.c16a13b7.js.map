{"version":3,"sources":["webpack://train/./src/component/header.js","webpack://train/./src/component/popular.js","webpack://train/./src/page/home.js","webpack://train/./src/utils/request.js","webpack://train/./src/component/popular.less","webpack://train/./src/component/popular.less?a681"],"names":["Header","props","name","i","url","toLowerCase","setState","active","history","push","checkItem","state","list","this","param","location","search","URLSearchParams","get","findIndex","el","style","textAlign","padding","map","marginRight","display","cursor","color","onClick","key","Component","Popular","loading","getList","page","request","then","res","items","hasMore","err","className","spinning","tip","wrapperClassName","changeList","width","flexWrap","paddingLeft","initialLoad","pageStart","loadMore","useWindow","length","item","stargazers_count","forks_count","open_issues_count","owner","avatar_url","id","flex","backgroundColor","marginBottom","paddingTop","paddingBottom","fontSize","backgroundImage","backgroundSize","height","margin","title","maxWith","overflow","textOverflow","whiteSpace","text","verticalAlign","fontWeight","maxWidth","Home","catchCB","msg","message","response","status","data","head","result","sessionStorage","clear","body","includes","errPrompt","axios","undefined","config","retry","__retryCount","Promise","reject","resolve","setTimeout","retryDelay","code","checkStatus","method","headers","FormData","___CSS_LOADER_EXPORT___","module","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","update","hot","invalidate","isNamedExport","oldLocals","accept","a","b","p","isEqualLocals","dispose"],"mappings":"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","file":"381.c16a13b7.js","sourcesContent":["import React, { Component } from \"react\";\r\nexport default class Header extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      active: 0,\r\n      list: [\r\n        {\r\n          name: 'All'\r\n        }, {\r\n          name: 'JavaScript'\r\n        }, {\r\n          name: 'Ruby'\r\n        }, {\r\n          name: 'Java'\r\n        }, {\r\n          name: 'CSS'\r\n        }, {\r\n          name: 'Python'\r\n        }\r\n      ]\r\n    }\r\n  }\r\n  componentDidMount (){\r\n    const  { list } = this.state\r\n    let { props } = this.props\r\n    let param = props.location.search ? new URLSearchParams(props.history.location.search).get(\"type\") : ''\r\n    this.checkItem(param, list.findIndex((el) => el.name === param))\r\n  }\r\n  checkItem = (name, i)=>{\r\n    let { props } = this.props\r\n    let url = `https://api.github.com/search/repositories?q=stars:3E1+language:${name.toLowerCase()}&sort=stars&order=desc&type=Repositories`\r\n    this.setState({\r\n      active: i\r\n    }, ()=>{\r\n      props.history.push(`/${name ? `?type=${name}` : ''}`)\r\n      this.props.checkItem(url)\r\n    })\r\n  }\r\n  render() {\r\n    const { list, active } = this.state\r\n    return (\r\n      <div>\r\n        <div style={{ textAlign: 'center', padding: '30px 0' }}>\r\n          {\r\n            list.map((el, i) => (\r\n              <span style={{ marginRight: '30px', display: 'inline-block', cursor: 'pointer', color: active === i ? 'red' : '' }} onClick={() => this.checkItem(el.name, i)} key={i}>{el.name}</span>))\r\n          }\r\n        </div>\r\n        <span></span>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport Header from './header'\r\nimport request from '@/utils/request'\r\nimport { Spin } from 'antd'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport './popular.less'\r\nexport default class Popular extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      hasMore: true, // 更多\r\n      list: [],\r\n      url: ''\r\n    }\r\n  }\r\n  changeList=(url)=>{\r\n    this.setState({ url, loading: true, list: [] }, ()=>{\r\n      this.getList(1)\r\n    })\r\n  }\r\n  getList = (page) => {\r\n    let url = `${this.state.url}&per_page=10&page=${page}`\r\n    const { list }= this.state\r\n    request(url).then(res => {\r\n      this.setState({\r\n        loading: false,\r\n        list: [...list, ...res.items],\r\n        hasMore: true\r\n      })\r\n    }).catch(err=>{\r\n      this.setState({\r\n        loading: false,\r\n      })\r\n    })\r\n  }\r\n  loadMore=(page)=>{\r\n    this.setState({ loading: true, hasMore: false }, ()=> this.getList(page))\r\n  }\r\n  render() {\r\n    let { list = [], hasMore, loading } = this.state\r\n    return (\r\n      <div className='popular-page'>\r\n        <Spin spinning={loading} tip=\"Loading...\" wrapperClassName={'popular-spin'}>\r\n          <Header checkItem={this.changeList} {...this.props}/>\r\n          <div style={{ display: \"flex\", width: \"100%\", flexWrap: \"wrap\", paddingLeft: '15px' }}>\r\n            <InfiniteScroll\r\n              initialLoad={false} // 不让它进入直接加载\r\n              pageStart={1} // 设置初始化请求的页数\r\n              loadMore={this.loadMore}  // 监听的ajax请求\r\n              hasMore={hasMore} // 是否继续监听滚动事件 true 监听 | false 不再监听\r\n              useWindow={true} // 不监听 window 滚动条\r\n            >\r\n              {\r\n                list.length ? list.map((item, i) => {\r\n                  const { name, stargazers_count, forks_count, open_issues_count, owner: {\r\n                    avatar_url,id\r\n                  } } = item\r\n                  return (\r\n                    <div key={id} style={{\r\n                      flex: '0 0 calc((100% / 4) - 15px)',\r\n                      marginRight: i + 1 / 4 ? '15px' : '0',\r\n                      width: 'calc(100% / 4 - 15px)',\r\n                      backgroundColor: 'rgb(235,235,235)',\r\n                      marginBottom: '20px',\r\n                      paddingTop: '30px',\r\n                      paddingBottom: '20px'\r\n                    }}>\r\n                      <h3 style={{ color: '#333', fontSize: '25px' }}>#{++i}</h3>\r\n                      <div style={{\r\n                        backgroundImage: `url(${avatar_url})`,\r\n                        backgroundSize: '100% 100%',\r\n                        width: '100px',\r\n                        height: '100px',\r\n                        margin: '0 auto'\r\n                      }}></div>\r\n                      <div title={item.name} style={{ color: 'rgb(200,112,97)', fontSize: '18px', margin: '30px 0', maxWith: '280px', overflow: 'hidden', display: 'block', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\r\n                        {item.name}\r\n                      </div>\r\n                      {\r\n                        ['1', '2', '3', '4'].map((el, i) => {\r\n                          let iconList = ['user-o', 'star', 'link', 'warning']\r\n                          let textList = ['', 'stars', 'forks', 'open issues']\r\n                          let colorList = ['orange', 'yellow', 'blue', 'rgb(200,112,97)']\r\n                          let text = [name, stargazers_count, forks_count, open_issues_count][i]\r\n                          return (\r\n                            <div key={i}>\r\n                              <span style={{\r\n                                backgroundSize: '100% 100%',\r\n                                marginRight: '5px',\r\n                                verticalAlign: 'top',\r\n                                display: 'inline-block', width: '20px', height: '20px'\r\n                              }}>\r\n                                <i className={`fa fa-${iconList[i]}`} style={{ color: colorList[i] }}></i>\r\n                              </span>\r\n                              <span style={{ fontWeight: '600', maxWidth: '220px', overflow: 'hidden', display: 'inline-block', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{text} <span>{textList[i]}</span></span>\r\n                            </div>\r\n                          )\r\n                        })\r\n                      }\r\n                    </div>\r\n                  )\r\n                }) : <div></div>\r\n              }\r\n            </InfiniteScroll>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport Popular from '@/component/popular'\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='main-content'>\r\n        <div className='top-menu'>\r\n          <Popular props={this.props}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import axios from 'axios'\r\nimport qs from 'qs'\r\nimport { message } from 'antd'\r\n// import { LOGINOUT_CODES, BASE_URL } from '@/assets/js/enume'\r\n\r\n// 延长超时时间60秒\r\naxios.defaults.timeout = 10000\r\n//重连次数\r\naxios.defaults.retry = 4\r\n//接口间隔时间(ms)\r\naxios.defaults.retryDelay = 1000\r\n//超时重连接口\r\naxios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) {\r\n  if (err && err.message.includes('timeout')) {\r\n    let config = err.config\r\n    // If config does not exist or the retry option is not set, reject\r\n    if (!config || !config.retry) { return Promise.reject(err) }\r\n\r\n    // Set the variable for keeping track of the retry count\r\n    config.__retryCount = config.__retryCount || 0\r\n\r\n    // Check if we've maxed out the total number of retries\r\n    if (config.__retryCount >= config.retry) {\r\n      // Reject with the error\r\n      return Promise.reject(err)\r\n    }\r\n\r\n    // Increase the retry count\r\n    config.__retryCount = 1\r\n\r\n    // Create new promise to handle exponential backoff\r\n    const backoff = new Promise(function (resolve) {\r\n      setTimeout(function () {\r\n        resolve()\r\n      }, config.retryDelay || 1)\r\n    })\r\n\r\n    // Return the promise in which recalls axios to retry the request\r\n    return backoff.then(function () {\r\n      return axios(config)\r\n    })\r\n  } else {\r\n    let res = err.response\r\n    checkStatus(res)\r\n  }\r\n})\r\n\r\nfunction checkStatus(res) {\r\n  // 判断后台有响应但没有返回超时的情况表现为没有code\r\n  //   const loginoutCodes = Object.keys(LOGINOUT_CODES).map(key => LOGINOUT_CODES[key])\r\n  if (res.status >= 200 && res.status < 300) {\r\n    if ((res.data.head || {}).code === '200') {\r\n      return res\r\n    }\r\n    // else if (loginoutCodes.indexOf((res.data.head || {}).code) !== -1) {\r\n    //   sessionStorage.clear()\r\n    //   window.location.href = '/#/login'  //登录有了开\r\n    // }\r\n    else {\r\n      return '请求超时，请稍后重试'\r\n    }\r\n  }\r\n  res.response = res\r\n  throw res\r\n}\r\n\r\nfunction catchCB(err) {\r\n  let msg = '异常错误'\r\n  if (err && err.message === 'Failed to fetch') {\r\n    msg = '网络异常，请检查网络连接'\r\n  } else if (err && err.response && err.response.status === 404) {\r\n    msg = err.response.data.message\r\n  } else if (err && err.response && err.response.status === 401) {\r\n    msg = err.response.data.head.result\r\n    sessionStorage.clear()\r\n  } else if (err && err.response) {\r\n    if (typeof err.response.data === 'string') {\r\n      msg = '请求失败'\r\n    } else if (typeof err.response.data.body === 'string') {\r\n      if (!err.response.data.body) {\r\n        msg = `${err.response.data.head.result}`\r\n      } else {\r\n        msg = `${err.response.data.body}`\r\n      }\r\n    } else if (err.response.data.body && typeof err.response.data.body === 'object') {\r\n      msg = `${err.response.data.body.data || err.response.data.body.msg || err.response.data.head.result}`\r\n    } else if (err.response.data.head) {\r\n      msg = `${err.response.data.head.result}`\r\n    } else {\r\n      msg = err.response.data.message\r\n    }\r\n  } else if (err && err.message.includes('timeout')) {\r\n    msg = '请求超时，请稍后重试'\r\n  }\r\n  return msg\r\n}\r\n\r\nfunction errPrompt(msg) {\r\n  message.destroy()\r\n  message.error(msg)\r\n}\r\n\r\n/**\r\n * Requests a URL, returning a promise.\r\n *\r\n * @param  {string} method    The type we want to request\r\n * @param  {string} url       The URL we want to request\r\n * @param  {object} data      The options we want to pass to \"fetch\"\r\n * @return {object}           An object containing either \"data\" or \"err\"\r\n */\r\nconst fetch = (url, data = {}, method) => {\r\n  url = `${url}`\r\n\r\n  //   const headers = createHeaders(data)\r\n  // console.log(headers)\r\n  // 当请求为非上传类型时，设置Content-Type\r\n  const headers = {}\r\n  if (!(data instanceof FormData)) {\r\n    headers['Content-Type'] = 'application/json; charset=UTF-8'\r\n  }\r\n\r\n  // 处理参数\r\n  if (method === 'post') {\r\n    if (!(data instanceof FormData)) {\r\n      // post请求设置参数\r\n      // data = JSON.stringify(data)\r\n    }\r\n    // 发起请求\r\n    return new Promise((resolve, reject) => {\r\n      axios({\r\n        method: method,\r\n        url,\r\n        data: data,\r\n        headers: headers,\r\n      })\r\n        // .then(checkStatus)\r\n        .then((res) => {\r\n          resolve(res.data)\r\n        })\r\n        .catch((err) => {\r\n          const msg = catchCB(err)\r\n          errPrompt(msg)\r\n          reject(err)\r\n        })\r\n    })\r\n  } else {\r\n    // get请求设置参数\r\n    // url = data ? `${url}?${qs.stringify(data)}` : url\r\n    // 发起请求\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(url, {\r\n          headers: headers,\r\n        })\r\n        // .then(checkStatus)\r\n        .then((res) => {\r\n          res.body = res.data\r\n          resolve(res.data)\r\n        })\r\n        .catch((err) => {\r\n          const msg = catchCB(err)\r\n          errPrompt(msg)\r\n          reject(err)\r\n        })\r\n    })\r\n  }\r\n}\r\nexport default fetch\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".popular-page {\\n  text-align: center;\\n  position: relative;\\n}\\n.popular-page .popular-spin .ant-spin-show-text {\\n  position: absolute;\\n  transform: translateX(-50%);\\n  left: 50%;\\n  top: 50%;\\n}\\n.popular-page .ant-spin-container > div:nth-child(2) > div:nth-child(1) {\\n  display: flex;\\n  width: 100%;\\n  flex-wrap: wrap;\\n}\\n@media screen and (max-width: 460px) {\\n  .popular-page {\\n    padding: 0 30px;\\n  }\\n  .popular-page .ant-spin-container div:nth-child(1) > span {\\n    margin-right: 18px !important;\\n  }\\n  .popular-page div:nth-child(2) > div:nth-child(1) > div {\\n    flex: 0 0 calc(100% - 15px) !important;\\n  }\\n}\\n@media screen and (max-width: 768px) and (min-width: 461px) {\\n  .ant-spin-container > div:nth-child(2) > div:nth-child(1) > div {\\n    flex: 0 0 calc((100% / 2) - 15px) !important;\\n  }\\n}\\n@media (max-width: 1200px) and (min-width: 769px) {\\n  .ant-spin-container > div:nth-child(2) > div:nth-child(1) > div {\\n    flex: 0 0 calc((100% / 3) - 15px) !important;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/component/popular.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,kBAAA;AACF;AAHA;EAII,kBAAA;EACA,2BAAA;EACA,SAAA;EACA,QAAA;AAEJ;AATA;EAYQ,aAAA;EACA,WAAA;EACA,eAAA;AAAR;AAMA;EACE;IACE,eAAA;EAJF;EAGA;IAKQ,6BAAA;EALR;EAAA;IAaQ,sCAAA;EAVR;AACF;AAgBA;EACE;IAIQ,4CAAA;EAjBR;AACF;AAuBA;EACE;IAIQ,4CAAA;EAxBR;AACF\",\"sourcesContent\":[\".popular-page {\\n  text-align: center;\\n  position: relative;\\n  .popular-spin .ant-spin-show-text {\\n    position: absolute;\\n    transform: translateX(-50%);\\n    left: 50%;\\n    top: 50%;\\n  }\\n  .ant-spin-container {\\n    > div:nth-child(2) {\\n      > div:nth-child(1) {\\n        display: flex;\\n        width: 100%;\\n        flex-wrap: wrap;\\n      }\\n    }\\n  }\\n}\\n\\n@media screen and (max-width: 460px) {\\n  .popular-page {\\n    padding: 0 30px;\\n    .ant-spin-container {\\n      div:nth-child(1) {\\n        > span {\\n          margin-right: 18px !important;\\n        }\\n      }\\n    }\\n\\n    div:nth-child(2) {\\n      > div:nth-child(1) {\\n        > div {\\n          flex: 0 0 calc(100% - 15px) !important;\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n@media screen and (max-width: 768px) and (min-width: 461px) {\\n  .ant-spin-container {\\n    > div:nth-child(2) {\\n      > div:nth-child(1) {\\n        > div {\\n          flex: 0 0 calc((100% / 2) - 15px) !important;\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n@media (max-width: 1200px) and (min-width: 769px) {\\n  .ant-spin-container {\\n    > div:nth-child(2) {\\n      > div:nth-child(1) {\\n        > div {\\n          flex: 0 0 calc((100% / 3) - 15px) !important;\\n        }\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./popular.less\";\n       export default content && content.locals ? content.locals : undefined;\n"],"sourceRoot":""}