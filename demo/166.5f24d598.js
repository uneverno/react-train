(self.webpackChunktrain=self.webpackChunktrain||[]).push([[166],{1166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(6610),a=n(5991),s=n(379),o=n(6070),c=n(7608),i=n(7294),u=(n(2438),n(9552)),l=(n(2262),n(5400)),p=n(2137),d=n(3349),f=n(6156),A=n(7757),h=n.n(A),m=n(1624);n(1915);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const y=function(e){(0,s.Z)(o,e);var t,n=g(o);function o(e){var t;return(0,r.Z)(this,o),t=n.call(this,e),(0,f.Z)((0,d.Z)(t),"reBack",(function(){sessionStorage.setItem("tabKey",1),t.props.props.history.push({pathname:"/"})})),t.state={data:[],loading:!0},t}return(0,a.Z)(o,[{key:"componentDidMount",value:(t=(0,p.Z)(h().mark((function e(){var t,n,r,a,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.user1,r=t.user2,a="",s="",o=[],e.next=4,Promise.all([(0,m.Z)("https://api.github.com/users/".concat(n)).then((function(e){a=e})),(0,m.Z)("https://api.github.com/users/".concat(r)).then((function(e){s=e}))]);case 4:a.public_repos>s.public_repos?(a.result="Winner",s.result="Loser"):a.public_repos===s.public_repos?(a.result="Draw",s.result="Draw"):(a.result="Loser",s.result="Winner"),o.unshift(a,s),this.setState({data:o,loading:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.data,n=e.loading;return i.createElement("div",{className:"result-page"},i.createElement(u.Z,{spinning:n,tip:"Loading..."},i.createElement("div",{className:"result-content"},t.length&&t.map((function(e,t){return i.createElement("div",{key:t},i.createElement("h2",null,e.result),i.createElement("img",{src:e.avatar_url,alt:""}),i.createElement("h4",null,"Scores: ",e.public_repos),i.createElement("h4",null,null==e.name?e.login:e.name),i.createElement("p",null,e.location||"--"),i.createElement("p",null,e.followers),i.createElement("p",null,e.following),i.createElement("p",null,e.public_repos))}))),i.createElement("div",{className:"reset-btn"},i.createElement(l.default,{type:"primary",onClick:this.reBack},"Reset"))))}}]),o}(i.Component);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var E=function(e){(0,s.Z)(n,e);var t=v(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).state={user1:e.location.search.replace("?","").split("&")[0].split("=")[1],user2:e.location.search.replace("?","").split("&")[1].split("=")[1]},a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.user1,n=e.user2;return i.createElement("div",{className:"result-page"},i.createElement(y,{user1:t,user2:n,props:this.props}))}}]),n}(i.Component)},1624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});n(9373);var r=n(1187),a=n(484),s=n(9669),o=n.n(s),c=n(129),i=n.n(c);function u(e){var t="异常错误";return e&&"Failed to fetch"===e.message?t="网络异常，请检查网络连接":e&&e.response&&404===e.response.status?t="找不到该请求":e&&e.response&&401===e.response.status?(t=e.response.data.head.result,sessionStorage.clear()):e&&e.response?t="string"==typeof e.response.data?"请求失败":"string"==typeof e.response.data.body?e.response.data.body?"".concat(e.response.data.body):"".concat(e.response.data.head.result):e.response.data.body&&"object"===(0,a.Z)(e.response.data.body)?"".concat(e.response.data.body.data||e.response.data.body.msg||e.response.data.head.result):e.response.data.head?"".concat(e.response.data.head.result):"请求失败":e&&e.message.includes("timeout")&&(t="请求超时，请稍后重试"),t}function l(e){r.default.destroy(),r.default.error(e)}o().defaults.timeout=1e4,o().defaults.retry=4,o().defaults.retryDelay=1e3,o().interceptors.response.use(void 0,(function(e){if(e&&e.message.includes("timeout")){var t=e.config;return t&&t.retry?(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry?Promise.reject(e):(t.__retryCount=1,new Promise((function(e){setTimeout((function(){e()}),t.retryDelay||1)})).then((function(){return o()(t)})))):Promise.reject(e)}!function(e){if(e.status>=200&&e.status<300)return"200"===(e.data.head||{}).code?e:"请求超时，请稍后重试";throw e.response=e,e}(e.response)}));const p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;e="".concat(e);var r={};return t instanceof FormData||(r["Content-Type"]="application/json; charset=UTF-8"),"post"===n?(t instanceof FormData||(t=JSON.stringify(t)),new Promise((function(a,s){o()({method:n,url:e,data:t,headers:r}).then((function(e){a(e.data)})).catch((function(e){l(u(e)),s(e)}))}))):(e=t?"".concat(e,"?").concat(i().stringify(t)):e,new Promise((function(t,n){o().get(e,{headers:r}).then((function(e){e.body=e.data,t(e.data)})).catch((function(e){l(u(e)),n(e)}))})))}},1259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(4015),a=n.n(r),s=n(3645),o=n.n(s)()(a());o.push([e.id,".result-page .result-content {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-top: 5%;\n}\n.result-page .result-content div {\n  background-color: #dddddd;\n  text-align: center;\n}\n.result-page .result-content div h2 {\n  margin-top: 25px;\n}\n.result-page .result-content div img {\n  width: 200px;\n  height: 200px;\n  padding: 20px;\n}\n.result-page .result-content div:nth-child(2) {\n  margin-left: 20px;\n}\n.result-page .result-content div:nth-child(1) {\n  margin-right: 100px;\n}\n.result-page .reset-btn {\n  margin-top: 25px;\n  text-align: center;\n}\n","",{version:3,sources:["webpack://./src/component/result.less"],names:[],mappings:"AAAA;EAEQ,WAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,cAAA;AAAR;AANA;EAQY,yBAAA;EACA,kBAAA;AACZ;AAVA;EAWgB,gBAAA;AAEhB;AAbA;EAcgB,YAAA;EACA,aAAA;EACA,aAAA;AAEhB;AAAY;EACI,iBAAA;AAEhB;AAAY;EACI,mBAAA;AAEhB;AAxBA;EA2BQ,gBAAA;EACA,kBAAA;AAAR",sourcesContent:[".result-page{\n    .result-content{\n        width: 100%; \n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        margin-top: 5%;\n        div{\n            background-color: rgb(221, 221, 221);\n            text-align: center;\n            h2{\n                margin-top: 25px;\n            }\n            img{\n                width: 200px;\n                height: 200px;\n                padding: 20px;\n            }\n            &:nth-child(2){\n                margin-left: 20px;\n            }\n            &:nth-child(1){\n                margin-right: 100px;\n            }\n        }\n    }\n    .reset-btn{\n        margin-top: 25px;\n        text-align: center;\n    }\n}"],sourceRoot:""}]);const c=o},1915:(e,t,n)=>{"use strict";var r=n(3379),a=n.n(r),s=n(7795),o=n.n(s),c=n(569),i=n.n(c),u=n(3565),l=n.n(u),p=n(9216),d=n.n(p),f=n(4589),A=n.n(f),h=n(1259),m={};m.styleTagTransform=A(),m.setAttributes=l(),m.insert=i().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d();var g=a()(h.default,m);if(!h.default.locals||e.hot.invalidate){var y=!h.default.locals,v=y?h:h.default.locals;e.hot.accept(1259,(t=>{h=n(1259),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(v,y?h:h.default.locals,y)?(v=y?h:h.default.locals,g(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));h.default&&h.default.locals&&h.default.locals}}]);
//# sourceMappingURL=166.5f24d598.js.map